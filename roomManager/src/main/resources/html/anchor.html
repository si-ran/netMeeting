<!DOCTYPE html>
<html lang="ZH-CN">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=gb2312"/>
    <title>rtmp streamer example</title>
    <script src="require.js"></script>
    <script src="TestC.js"></script>
    <!--<script src="https://cdn.dashjs.org/latest/dash.all.min.js"></script>-->
    <script>
        // setup the video element and attach it to the Dash player
        function setupVideo() {
            var url = "http://wams.edgesuite.net/media/MPTExpressionData02/BigBuckBunny_1080p24_IYUV_2ch.ism/manifest(format=mpd-time-csf)";
            var context = new Dash.di.DashContext();
            var player = new MediaPlayer(context);
            player.startup();
            player.attachView(document.querySelector("#videoplayer"));
            player.attachSource(url);
        }
    </script>
</head>
<body style="text-align: center;" onload="setupVideo()">

rtmp address:
<input id="url" type="text" style="width: 400px;" value="rtmp://10.1.29.250:41649/live" title="url">
<input id="stream-name" type="text" style="width: 150px;" value="stream" title="stream-name">

<h2>Streamer</h2>
<object>
    <embed id="rtmp-streamer" src="./RtmpStreamer.swf" bgcolor="#999999" quality="high"
           width="320" height="240" allowScriptAccess="sameDomain" type="application/x-shockwave-flash" />
</object>
<br>
<button id="publish"> push</button>
<button id="streamer-disconnect"> disconnect</button>

<hr>

<h2>Player1</h2>
<object>
    <embed id="rtmp-player" src="./RtmpStreamer.swf" bgcolor="#999999" quality="high"
           width="320" height="240" allowScriptAccess="sameDomain" type="application/x-shockwave-flash" />
</object>
<br>
<button id="play"> play</button>
<button id="player-disconnect"> disconnect</button>

<!--<h2>Player2</h2>-->
<!--&lt;!&ndash;<video id="videoplayer" controls></video>&ndash;&gt;-->
<!--<video data-dashjs-player autoplay src="https://dash.akamaized.net/envivio/EnvivioDash3/manifest.mpd" controls></video>-->

</body>

<script lang="javascript">

</script>

</html>